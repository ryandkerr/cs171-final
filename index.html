<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>Electoral Map - Final Project</title>

  <!-- ADD Libraries-->
  <script src="libs/d3/d3.min.js" charset="utf-8"></script>
  <script src="libs/jquery/jquery-2.1.1.min.js" charset="utf-8"></script>
  <script src="libs/bootstrap/js/bootstrap.min.js" charset="utf-8"></script>
  <script src="http://d3js.org/queue.v1.min.js"></script>

  <!--Stylesheets-->
  <link rel="stylesheet" type="text/css" href="libs/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
  <div class ="container">
    <h1>Electoral Map: 1789 - Present</h1>
    
    <div class="row">
      <div class="col-md-9" style="background-color: #CCF2FF">
        <form>
          <div>
            <label>Year:</label>
            <label>1980</label><input type="range" name="points" min='1980' max='2012' step="4" value="0" id="year_slider" oninput="" style="width: 300px"><label>2012</label>
          </div>
        </form>
        <br>
        
        <div id="choroVis">
          <!-- Main Cloropleth goes here -->
        </div>

      <div class="col-md-3" id="clickVis" style="background-color: #FFD8D8">
        click extra data goes here
      </div>
    </div>

    <div class="row">
      <div class="col-md-3" id="extraEthnicity" style="background-color: #D6FFEB">
        ethnicity pie chart 
      </div>
      <div class="col-md-3" id="extraParty" style="background-color: #D6FF65">
        party line graph
      </div>
      <div class="col-md-3" id="extraCompare" style="background-color: #D6FFEB">
        bars of state comparison
      </div>
    </div>
  </div>

  <script>

    var WIDTH = 500
    var HEIGHT = 500 

    var ELECGLOBAL;

    var quantize = d3.scale.quantize()
      .domain([-.02, .05])
      .range(d3.range(9).map(function(i) { return "q" + i + "-9"; })); 

    var svg = d3.select("#choroVis")
      .append("svg")
      .attr("width", WIDTH)
      .attr("height", HEIGHT);

    var projection = d3.geo.albersUsa()
      .scale(300);

    var path = d3.geo.path()
      .projection(projection);

    var states = svg.append("g")
      .attr("class", "states");

    d3.json("data/us_states_small.json", function(stateJSON) {
      states.selectAll("path")
        .data(stateJSON.features)
        .enter().append("path")
        // .attr( assign class based on color )
        // .attr ( assign id or maybe class based on state name )
        .attr("id", function(d) { return d.properties.NAME; })
        .attr("d", path)
        .attr("fill", function(d) { if(d.properties.CENSUSAREA > 113590) {
            return "#000000"; 
          } else {
            return "#AAAAAA";
          }})
        .attr("stroke", "#555555")
        .attr("stroke-width", 1.5)
    });

    d3.json("data/elec08_12.json", function(elecJSON) {
      ELECGLOBAL = elecJSON;
    })

  </script>
</body>
</html>